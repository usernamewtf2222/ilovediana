<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–≤–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
<style>
  :root{
    --bg1:#ffdde1; --bg2:#ee9ca7;
    --card:#ffffffee; --accent:#ff5d8f; --accent2:#ff7eb3; --ok:#33b679; --bad:#ff4d4f;
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:grid; place-items:center;
    background: linear-gradient(135deg,var(--bg2),var(--bg1));
    font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:#3d0036; overflow-x:hidden;
  }
  /* floating hearts */
  .hearts{
    position:fixed; inset:0; pointer-events:none; overflow:hidden;
  }
  .heart{
    position:absolute; bottom:-10vh; font-size:clamp(18px,2.6vw,36px); opacity:.15;
    animation: floatUp linear forwards;
  }
  @keyframes floatUp{
    to{ transform:translateY(-120vh) rotate(20deg); opacity:0.0;}
  }

  .card{
    width:min(880px,92vw);
    background:var(--card);
    border-radius:28px; padding:28px;
    box-shadow:0 20px 60px rgba(255, 82, 140, .25);
    backdrop-filter: blur(6px);
    border:1px solid #ffffff80;
  }
  header{
    display:flex; gap:12px; align-items:center; justify-content:center; margin-bottom:8px;
  }
  .logo{
    width:40px; height:40px; display:grid; place-items:center; border-radius:12px;
    background: radial-gradient(circle at 30% 30%, #fff 0 25%, #ffc7d9 26% 55%, transparent 56%),
                linear-gradient(135deg, #ff9fc2, #ff6fa6);
    box-shadow:0 6px 20px rgba(255,0,90,.25);
    transform: rotate(-8deg);
  }
  h1{margin:0; font-weight:800; letter-spacing:.2px}
  .sub{margin:4px 0 18px; opacity:.8}
  .progress{
    height:10px; background:#ffd6e6; border-radius:999px; overflow:hidden; margin:10px 0 22px;
  }
  .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent2)); transition:width .35s ease}
  form .q{
    background:#fff; border:1px solid #ffe3ee; border-radius:18px; padding:18px; margin:12px 0 14px;
    transition: border-color .2s;
  }
  form .q:hover{ border-color:#ffc0d5}
  .q h3{margin:0 0 12px; font-size:18px}
  .opt{display:flex; gap:10px; align-items:flex-start; padding:9px 10px; border-radius:12px; cursor:pointer;}
  .opt input{margin-top:4px}
  .opt:hover{ background:#fff5f9}
  .hint{font-size:13px; color:#8a004e; display:none; margin-top:8px}
  .hint.bad{color:var(--bad)} .hint.ok{color:var(--ok)}
  .actions{display:flex; gap:12px; margin-top:14px; align-items:center}
  button{
    appearance:none; border:none; cursor:pointer; font-weight:700; letter-spacing:.2px;
    padding:14px 18px; border-radius:14px; transition: transform .05s ease, box-shadow .2s ease, filter .2s ease;
  }
  .primary{
    background:linear-gradient(135deg,var(--accent),var(--accent2)); color:white;
    box-shadow:0 12px 30px rgba(255, 60, 120, .35);
  }
  .primary:active{ transform:translateY(1px)}
  .ghost{background:#fff; border:1px solid #ffd1e3; color:#ab1a5f}
  .score{margin-left:auto; font-weight:700}
  .shake{animation:shake .35s}
  @keyframes shake{
    10%, 90% {transform: translateX(-1px);}
    20%, 80% {transform: translateX(2px);}
    30%, 50%, 70% {transform: translateX(-4px);}
    40%, 60% {transform: translateX(4px);}
  }
  footer{margin-top:14px; text-align:center; font-size:12px; opacity:.7}
  a{color:#cc116a; text-decoration:none}
</style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="card" id="card">
    <header>
      <div class="logo">‚ô•</div>
      <div>
        <h1>–û–ü–ê –ø–æ–ø–∞–ª–∞—Å—å, –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞</h1>
        <div class="sub">–æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤. –µ—Å–ª–∏ –≤—Å—ë –≤–µ—Ä–Ω–æ —Ç–æ —Ç—ã <em>–£–ú–ù–ò–ß–ö–ê</em> –µ—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –º–æ–ª–∏—Å—å üíò</div>
      </div>
    </header>

    <div class="progress" aria-label="–ü—Ä–æ–≥—Ä–µ—Å—Å">
      <div class="bar" id="bar"></div>
    </div>

    <form id="quiz" novalidate>
      <!-- Q1 -->
      <div class="q" data-q="q1">
        <h3>1) –∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ –º—ã —Å —Ç–æ–±–æ–π –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å?</h3>
        <label class="opt"><input type="radio" name="q1" value="a"> 20 –∏—é–ª—è</label>
        <label class="opt"><input type="radio" name="q1" value="b"> 25 –∏—é–ª—è</label>
        <label class="opt"><input type="radio" name="q1" value="c"> 1 –∞–≤–≥—É—Å—Ç–∞</label>
        <div class="hint"></div>
      </div>

      <!-- Q2 -->
      <div class="q" data-q="q2">
        <h3>2) —Å–∫–æ–ª—å–∫–æ —É –Ω–∞—Å –±—É–¥–µ—Ç –¥–µ—Ç–µ–π?</h3>
        <label class="opt"><input type="radio" name="q2" value="a"> 2</label>
        <label class="opt"><input type="radio" name="q2" value="b"> –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –º–Ω–æ–≥–æ</label>
        <label class="opt"><input type="radio" name="q2" value="c"> 5</label>
        <div class="hint"></div>
      </div>

      <!-- Q3 -->
      <div class="q" data-q="q3">
        <h3>3) –º–æ–π –ª—é–±–∏–º—ã–π —Å–æ–∫ —ç—Ç–æ...</h3>
        <label class="opt"><input type="radio" name="q3" value="a"> —è–±–ª–æ—á–Ω—ã–π</label>
        <label class="opt"><input type="radio" name="q3" value="b"> –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π</label>
        <label class="opt"><input type="radio" name="q3" value="c"> –º—É–ª—å—Ç–∏—Ñ—Ä—É–∫—Ç</label>
        <div class="hint"></div>
      </div>

      <!-- Q4 -->
      <div class="q" data-q="q4">
        <h3>4) –ö–∞–∫ –∑–æ–≤—É—Ç –º–æ—é –±–∞–±—É—à–∫—É?</h3>
        <label class="opt"><input type="radio" name="q4" value="a"> –í–∞–ª—è</label>
        <label class="opt"><input type="radio" name="q4" value="b"> –õ—é–¥–∞</label>
        <label class="opt"><input type="radio" name="q4" value="c"> –ù–∞—Ç–∞—à–∞</label>
        <div class="hint"></div>
      </div>

      <!-- Q5 -->
      <div class="q" data-q="q5">
        <h3>5) –°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫–æ–≤ –ø–∞—É–∫–æ–≤ —É –º–µ–Ω—è –≤ –∫–æ–º–Ω–∞—Ç–µ?</h3>
        <label class="opt"><input type="radio" name="q5" value="a"> 15</label>
        <label class="opt"><input type="radio" name="q5" value="b"> 7</label>
        <label class="opt"><input type="radio" name="q5" value="c"> 10</label>
        <div class="hint"></div>
      </div>

      <div class="actions">
        <button type="button" class="ghost" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
        <button class="primary" type="submit">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
        <div class="score" id="score">0/5</div>
      </div>
    </form>

    <footer>
      –ù–£ –î–ê–í–ê–ô –ü–û–ö–ê–ñ–ò –°–í–û–ò –í–û–ó–ú–û–ñ–ù–û–°–¢–ò</strong> üíû
    </footer>
  </div>

<script>
  // -------- Floating hearts background
  const heartsWrap = document.getElementById('hearts');
  const spawnHeart = () => {
    const h = document.createElement('div');
    h.className = 'heart';
    h.textContent = Math.random() < .5 ? '‚ù§' : 'üíó';
    h.style.left = Math.random()*100 + 'vw';
    const dur = 8 + Math.random()*6;
    h.style.animationDuration = dur + 's';
    h.style.fontSize = (16 + Math.random()*28) + 'px';
    h.style.filter = `blur(${Math.random()*1.5}px)`;
    heartsWrap.appendChild(h);
    setTimeout(()=>h.remove(), dur*1000);
  };
  for(let i=0;i<18;i++) setTimeout(spawnHeart, i*350);
  setInterval(spawnHeart, 1200);

  // -------- Quiz logic
  const quiz = document.getElementById('quiz');
  const bar = document.getElementById('bar');
  const scoreEl = document.getElementById('score');
  const card = document.getElementById('card');
  const resetBtn = document.getElementById('resetBtn');

  // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:
  const CORRECT = { q1:'a', q2:'b', q3:'b', q4:'a', q5:'c' };

  function getProgress(){
    const data = new FormData(quiz);
    let filled = 0;
    Object.keys(CORRECT).forEach(k => { if(data.get(k)) filled++; });
    return Math.round(filled / 5 * 100);
  }

  function updateProgress(){
    const p = getProgress();
    bar.style.width = p + '%';
  }

  quiz.addEventListener('change', updateProgress);

  resetBtn.addEventListener('click', ()=>{
    quiz.reset();
    document.querySelectorAll('.hint').forEach(h=>{h.style.display='none'; h.textContent='';});
    bar.style.width = '0%';
    scoreEl.textContent = '0/5';
  });

  quiz.addEventListener('submit', (e)=>{
    e.preventDefault();

    const data = new FormData(quiz);
    let score = 0;

    document.querySelectorAll('.q').forEach(block=>{
      const key = block.dataset.q;
      const chosen = data.get(key);
      const hint = block.querySelector('.hint');

      if(!chosen){
        hint.style.display='block';
        hint.className = 'hint bad';
        hint.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞.';
        return;
      }

      if(chosen === CORRECT[key]){
        score++;
        hint.style.display='block';
        hint.className = 'hint ok';
        hint.textContent = '–í–µ—Ä–Ω–æ ‚Äî ‚ô•';
      } else {
        hint.style.display='block';
        hint.className = 'hint bad';
        hint.textContent = '–£–ø—Å, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.';
      }
    });

    scoreEl.textContent = `${score}/5`;

    if(score === 5){
      successBurst();
      setTimeout(()=>{ window.location.href = 'success.html'; }, 900);
    } else {
      card.classList.remove('shake');
      void card.offsetWidth; // restart animation
      card.classList.add('shake');
    }
  });

  function successBurst(){
    for(let i=0;i<18;i++){
      setTimeout(()=>spawnHeart(), i*60);
    }
  }
</script>
</body>
</html>
